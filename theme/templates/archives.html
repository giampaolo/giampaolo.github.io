{% extends "base.html" %}
{% block content %}
<section id="content" class="body">

<h1 class="entry-title">Archives</h1>

<div class="archives">
    <div class="archives-right">
        <h1>Newsletter</h1>
        <p>Enter your email address to receive blog updates:</p>
        {% include 'newsletter.html' %}

        <h1>Tags</h1>
        <div id="tag-list">
        <ul>
        {% for tag, articles in tags|sort_by_tags %}
            <li><a href="{{ SITEURL }}/{{ tag.url }}">{{ tag }}</a> ({{ articles|count }})</li>
        {% endfor %}
        </ul>
        </div>
    </div>

    <div class="archives-left">
        <h1>Posts</h1>
        {% for year, date_year in dates|groupby( 'date.year' )|sort(reverse=True) %}
            <h3>{{ year }}</h3>
            <ul>
            {% for year, articles in date_year|groupby( 'date.year' )|sort(reverse=True) %}
                {% for article in articles %}
                    <li>
                    <a>{{ article.date.strftime('%b')  }}</a>: <a href="{{ SITEURL }}/{{ article.url }}">{{ article.title }}</a>
                    <!--
                    â€”
                    {% for tag in article.tags|sort %}
                        <i>{{ tag }}</i>{% if not loop.last %},{% endif %}
                    {% endfor %}
                    -->
                    </li>
                {% endfor %}
            {% endfor %}
            </ul>
        {% endfor %}
    </div>
</div>

<!--
<dl>
{% for article in dates %}
    <dt>{{ article.locale_date }}</dt>
    <dd><a href="{{ SITEURL }}/{{ article.url }}">{{ article.title }}</a></dd>
{% endfor %}
</dl>
-->
</section>
{% endblock %}
