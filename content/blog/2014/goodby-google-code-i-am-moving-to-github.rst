Goodbye Google Code, I am moving to GitHub
##########################################

:date: 2014-05-26
:tags: python


8 years ago I started hosting my first open source project (`pyftpdlib <https://code.google.com/p/pyftpdlib/>`__) on Google Code and I later ended up also hosting `psutil <https://code.google.com/p/psutil/>`__ and `pysendfile <https://code.google.com/p/pysendfile/>`__. Back then GC had just been released and similarly to other Google products I appreciated the clean and minimalistic interface, the excellent bug tracker and the freedom to choose between different revision control systems (SVN, GIT and Mercurial, which is my favourite one). Unfortunately as the years passed Google completely lost interest in maintaining GC to the point that now GC can basically be considered an `abandoned project <https://groups.google.com/forum/#!topic/google-code-hosting/PEhNMdtBGt4>`__.  If you take a look at `GC bug tracker <https://code.google.com/p/support/issues/list>`__ you can see literally hundreds of issues which have been open for years, even some apparently easy ones such as `#60 <https://code.google.com/p/support/issues/detail?id=60>`__ and `#919 <https://code.google.com/p/support/issues/detail?id=919>`__. The lack of interest from Google is absolutely astonishing and it is the main reason why I ultimately decided to change. After at least a couple of years of thinking about migrating to github I finally bite the bullet and as of today psutil is now `hosted on github <https://github.com/giampaolo/psutil>`__ (update: now also `pyftpdlib <https://github.com/giampaolo/pyftpdlib>`__ and `pysendfile <https://github.com/giampaolo/pysendfile>`__).

What I will miss the most about GC
----------------------------------

First of all I must say that despite the unfortunate situation of GC I'm also sad for abandoning it. It started as a really great hosting platform, and it still has some peculiar aspects which I know I will be missing. In order of importance:

* `The bug tracker <https://code.google.com/p/psutil/issues/list>`__: it is much more powerful than `github's <https://github.com/giampaolo/psutil/issues?state=open>`__, especially for the extremely customizable labeling system which is pure gold, the excellent searching system and the `grid view <https://code.google.com/p/psutil/issues/list?can=2&q=&colspec=ID+Summary+Type+Opsys+Status+Priority+Opened+Owner&groupby=&sort=&x=&y=&cells=tiles&mode=grid>`__. GC bug tracker seriously kicks some ass so kudos to whoever was behind its design! By comparison github bug tracker is too minimalistic and it has no good way to order issues or list them in a more compact form. I'm totally gonna miss psutil bug tracker.
* Mercurial: I'm a big fan of Mercurial and I consider it way more pleasant to work with `compared to GIT <https://twitter.com/grodola/status/456238397690875905>`__. I don't know exactly why GIT ended up being so much more used than Mercurial (probably because of github?) but I'm sure that many other guys like me who know both systems will agree that Mercurial is simply so much easier to use. Unfortunately once you decide to stick with github you have no other choice. Mercurial, I'm gonna miss you too!
* GC layout: it is much simpler than github's! Everything is easy to find, even for a non-geek person. The home page alone is perfect to summarize what the project is about and doesn't have tens of icons all over the place. github layout is `more complicated <https://twitter.com/JoshHelfferich/status/423680220126650368>`__ and needs some time to get used to, even for a programmer. If these projects (psutil and others) weren't about programming I wouldn't have chosen github because it's "not for the masses".

What I appreciate about github
------------------------------

* Travis integration: there's this totally awesome free continuos integration service called `Travis <https://travis-ci.org/giampaolo/psutil>`__ which given a configuration file `like this <https://github.com/giampaolo/psutil/blob/master/.travis.yml>`__ it will automatically run tests on multiple python versions every time a commit is pushed. They recently added `OSX support <http://blog.travis-ci.com/2014-05-13-multi-os-feature-available/>`__ and `Windows support <https://github.com/travis-ci/travis-ci/issues/216>`__ is on the way. This way I will finally be able to quickly test psutil on Linux, OSX and Windows without using virtualized systems except for FreeBSD and Solaris! To me this is like the ultimate Christmas gift and I couldn't ask for any better. Note: as of today Travis only works with github.
* forks and pull requests: honestly I'm not a big fan of them (yet?), probably because I'm used to the python-dev development workflow consisting in uploading patches on the bug tracker and reviewing them (see `this <http://bugs.python.org/issue17552>`__ for example). Nevertheless to my understanding most people use pull requests in order to contribute to open source projects so basically this is a service I'm glad to offer to my users who hopefully will be able to contribute back more easily. GC has a `cloning system <https://code.google.com/p/psutil/source/clones>`__ but isn't anywhere near github's and I'm not even sure how it works (never cared).
* the "social" side of github including the fact that you can "star" developers and receive notifications about their activity was another big incentive for migrating. The `personal landing page <https://github.com/giampaolo>`__ collecting all your contributions to different projects is absolutely cool. GC had something similar but they stupidly `removed it <https://code.google.com/p/support/issues/detail?id=24324>`__ all of the sudden and never reintroduced it back. `A lot of people were angry <https://groups.google.com/forum/#!topic/google-code-hosting/0XbdStxE_uw>`__ but again, they didn't care. Actually this was the feature I appreciated the most about GC after the bug tracker and that is when I seriously started thinking about flipping off GC for good.
* the enormous user base: the fact that github is the most used code hosting platform out there will hopefully help me and my projects have a little more visibility. Also, in many job interviews I've been asked what my github profile was so it seems github also became an active part in getting jobs.
* `gists <https://gist.github.com/>`__: gists are "a simple way to share code snippets and pastes with others. All gists are Git repositories, so they are automatically versioned, forkable and usable from Git". Seriously, they are  beautiful. In order to share `my code snippets <https://code.activestate.com/recipes/users/4178764/>`__ I've always used Active State but I think I will eventually migrate them as well in order to have everything in one place.
* the fact that if you mention an issue number as part of your commit message that specific issue will automatically be updated. As I said GC bug tracker is superior in basically any aspect but since I always took care of updating issues by mentioning the specific cset which fixed them (see for example `here <https://code.google.com/p/psutil/issues/detail?id=463>`__) having this little extra feature will save me some time.
* SSH keys: using Mercurial on GC means using password based authentication. Incredibly they still do not support SSH key based auth. Simply "git push"ing without entering any password when I'm not on my laptop is nice, and of course, it is also much more secure.

Migration
---------

For those of you who are interested in knowing how I did it, here goes: as for moving the issue from GC bug tracker to github's I used `this tool <https://github.com/arthur-debert/google-code-issues-migrator>`__. I managed to preserve the issue IDs but unfortunately not the real owners nor the real issue dates, which kind of sucks. As for migrating the code from mercurial to git I just used `this <http://stackoverflow.com/a/16037861/376587>`__. The Mercurial -> GIT transition was perfect and I also managed to preserve the original Mercurial named branches and tags, which for me it was crucial. In conclusion, psutil is a 5 years, medium sized  project with hundreds of issues: the transition in this case is definitively possible but not painless so if you plan on migrating, the sooner you do it the better.
